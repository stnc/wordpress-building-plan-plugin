"use strict";if(function(t){function e(t){(t.attr("title")||"string"!=typeof t.attr("data-title"))&&t.attr("data-title",t.attr("title")||"").removeAttr("title")}function i(i,o){this.$element=t(i),this.options=o,this.enabled=!0,e(this.$element)}i.prototype={show:function(){var e=this.getTitle();if(e&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](e),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var o,n=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),r=i[0].offsetWidth,s=i[0].offsetHeight,a="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity;switch(a.charAt(0)){case"n":o={top:n.top+n.height+this.options.offset,left:n.left+n.width/2-r/2};break;case"s":o={top:n.top-s-this.options.offset,left:n.left+n.width/2-r/2};break;case"e":o={top:n.top+n.height/2-s/2,left:n.left-r-this.options.offset};break;case"w":o={top:n.top+n.height/2-s/2,left:n.left+n.width+this.options.offset}}2==a.length&&("w"==a.charAt(1)?o.left=n.left+n.width/2-15:o.left=n.left+n.width/2-r+15),i.css(o).addClass("tipsy-"+a),this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):i.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},getTitle:function(){var t=this.$element,i=this.options;e(t);var o;return"string"==typeof(i=this.options).title?o=t.attr("title"==i.title?"data-title":i.title):"function"==typeof i.title&&(o=i.title.call(t[0])),(o=(""+o).replace(/(^\s*|\s*$)/,""))||i.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"/></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(e){function o(o){var n=t.data(o,"tipsy");return n||(n=new i(o,t.fn.tipsy.elementOptions(o,e)),t.data(o,"tipsy",n)),n}function n(){var t=o(this);t.hoverState="in",0==e.delayIn?t.show():setTimeout(function(){"in"==t.hoverState&&t.show()},e.delayIn)}function r(){var t=o(this);t.hoverState="out",0==e.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},e.delayOut)}if(!0===e)return this.data("tipsy");if("string"==typeof e)return this.data("tipsy")[e]();if((e=t.extend({},t.fn.tipsy.defaults,e)).live||this.each(function(){o(this)}),"manual"!=e.trigger){var s=e.live?"live":"bind",a="hover"==e.trigger?"mouseenter":"focus",l="hover"==e.trigger?"mouseleave":"blur";this[s](a,n)[s](l,r)}return this},t.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},t.fn.tipsy.elementOptions=function(e,i){return t.metadata?t.extend({},i,t(e).metadata()):i},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"}}(jQuery),function(t){t.fn.unveil=function(e,i){function o(){var e=l.filter(function(){var e=t(this);if(!e.is(":hidden")){var i=r.scrollTop(),o=i+r.height(),n=e.offset().top;return n+e.height()>=i-s&&n<=o+s}});n=e.trigger("unveil"),l=l.not(n)}var n,r=t(window),s=e||0,a=window.devicePixelRatio>1?"data-src-retina":"data-src",l=this;return this.one("unveil",function(){var t=this.getAttribute(a);(t=t||this.getAttribute("data-src"))&&(this.setAttribute("src",t),"function"==typeof i&&i.call(this))}),r.on("scroll.unveil resize.unveil lookup.unveil",o),o(),this}}(window.jQuery||window.Zepto),function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,i){t.fn[e]=function(n){if("string"==typeof n){for(var s=o.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],d=t.data(c,e);if(d)if(t.isFunction(d[n])&&"_"!==n.charAt(0)){var u=d[n].apply(d,s);if(void 0!==u)return u}else r("no such method '"+n+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+n+"'")}return this}return this.each(function(){var o=t.data(this,e);o?(o.option(n),o._init()):(o=new i(this,n),t.data(this,e,o))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),n(t,e)},t.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent("on"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var r={bind:o,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():r.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==n.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var o=0,s=r.length;s>o;o++)(0,r[o])()}}function o(o){return o.bind(n,"DOMContentLoaded",i),o.bind(n,"readystatechange",i),o.bind(t,"load",i),e}var n=t.document,r=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],o)):t.docReady=o(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,r=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if(t instanceof RegExp){e={};for(i in o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}else e=o[t]||(o[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),r="object"==typeof i;for(o in n)n.hasOwnProperty(o)&&-1===e(n[o],i)&&n[o].push(r?i:{listener:i,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,i){var o,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&-1!==(o=e(r[n],i))&&r[n].splice(o,1);return this},o.off=i("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)r.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?r.call(this,o,n):s.call(this,o,n));return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i)delete o[t];else if(t instanceof RegExp)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(t,e){var i,o,n,r=this.getListenersAsObject(t);for(n in r)if(r.hasOwnProperty(n))for(o=r[n].length;o--;)!0===(i=r[n][o]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=i("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof o[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,r=i.length;r>n;n++)if(e=i[n]+t,"string"==typeof o[e])return e}}var i="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=s.length;i>e;e++)t[s[e]]=0;return t}function o(t){function o(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var o=r(t);if("none"===o.display)return i();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var d=n.isBorderBox=!(!c||!o[c]||"border-box"!==o[c]),u=0,h=s.length;h>u;u++){var p=s[u],f=o[p];f=a(t,f);var m=parseFloat(f);n[p]=isNaN(m)?0:m}var g=n.paddingLeft+n.paddingRight,v=n.paddingTop+n.paddingBottom,y=n.marginLeft+n.marginRight,b=n.marginTop+n.marginBottom,w=n.borderLeftWidth+n.borderRightWidth,x=n.borderTopWidth+n.borderBottomWidth,k=d&&l,S=e(o.width);!1!==S&&(n.width=S+(k?0:g+w));var E=e(o.height);return!1!==E&&(n.height=E+(k?0:v+x)),n.innerWidth=n.width-(g+w),n.innerHeight=n.height-(v+x),n.outerWidth=n.width+y,n.outerHeight=n.height+b,n}}function a(t,e){if(n||-1===e.indexOf("%"))return e;var i=t.style,o=i.left,r=t.runtimeStyle,s=r&&r.left;return s&&(r.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=o,s&&(r.left=s),e}var l,c=t("boxSizing");return function(){if(c){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[c]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var o=r(t);l=200===e(o.width),i.removeChild(t)}}(),o}var n=t.getComputedStyle,r=n?function(t){return n(t,null)}:function(t){return t.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[a](e)}function o(t){t.parentNode||document.createDocumentFragment().appendChild(t)}function n(t,e){o(t);for(var i=t.parentNode.querySelectorAll(e),n=0,r=i.length;r>n;n++)if(i[n]===t)return!0;return!1}function r(t,e){return o(t),i(t,e)}var s,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,o=t.length;o>i;i++){var n=t[i]+"MatchesSelector";if(e[n])return n}}();if(a){var l=i(document.createElement("div"),"div");s=l?i:r}else s=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(0,Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return null,!0}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function n(t,n,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=r("transition"),c=r("transform"),d=l&&c,u=!!r("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;i>e;e++){var o=p[e],n=r(o);n&&n!==o&&(t[o]=n)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var i in t)e[f[i]||i]=t[i]},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,i=e.isOriginLeft,o=e.isOriginTop,n=parseInt(t[i?"left":"right"],10),r=parseInt(t[o?"top":"bottom"],10);n=isNaN(n)?0:n,r=isNaN(r)?0:r;var a=this.layout.size;n-=i?a.paddingLeft:a.paddingRight,r-=o?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var m=u?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),r=parseInt(e,10),s=n===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,l=e-o,c={},d=this.layout.options;a=d.isOriginLeft?a:-a,l=d.isOriginTop?l:-l,c.transform=m(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=d?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g=c&&o(c)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,o=v[t.propertyName]||t.propertyName;delete e.ingProperties[o],i(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[o]),o in e.onEnd&&(e.onEnd[o].call(this),delete e.onEnd[o]),this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(y)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=document.defaultView,s=r&&r.getComputedStyle?function(t){return r.getComputedStyle(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],n):(t.Outlayer={},t.Outlayer.Item=n(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===u.call(t)}function o(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var o=0,n=t.length;n>o;o++)e.push(t[o]);else e.push(t);return e}function n(t,e){var i=p(e,t);-1!==i&&e.splice(i,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function s(i,s,u,p,f,m){function g(t,i){if("string"==typeof t&&(t=a.querySelector(t)),!t||!h(t))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.options),this.option(i);var o=++y;this.element.outlayerGUID=o,b[o]=this,this._create(),this.options.isInitLayout&&this.layout()}function v(t,i){t.prototype[i]=e({},g.prototype[i])}var y=0,b={};return g.namespace="outlayer",g.Item=m,g.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,u.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0,r=e.length;r>n;n++){var s=new i(e[n],this);o.push(s)}return o},g.prototype._filterFindItemElements=function(t){t=o(t);for(var e=this.options.itemSelector,i=[],n=0,r=t.length;r>n;n++){var s=t[n];if(h(s))if(e){f(s,e)&&i.push(s);for(var a=s.querySelectorAll(e),l=0,c=a.length;c>l;l++)i.push(a[l])}else i.push(s)}return i},g.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):h(o)&&(i=o),this[t]=i?p(i)[e]:o):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i];n.isIgnored||e.push(n)}return e},g.prototype._layoutItems=function(t,e){function i(){o.emitEvent("layoutComplete",[o,t])}var o=this;if(!t||!t.length)return void i();this._itemsOn(t,"layout",i);for(var n=[],r=0,s=t.length;s>r;r++){var a=t[r],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,n.push(l)}this._processLayoutQueue(n)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];this._positionItem(o.item,o.x,o.y,o.isInstant)}},g.prototype._positionItem=function(t,e,i,o){o?t.goTo(e,i):t.moveTo(e,i)},g.prototype._postLayout=function(){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},g.prototype._getContainerSize=d,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,i){function o(){return++n===r&&i.call(s),!0}for(var n=0,r=t.length,s=this,a=0,l=t.length;l>a;a++)t[a].on(e,o)},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var o=t[e];this.ignore(o)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var o=t[e];n(o,this.stamps),this.unignore(o)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=d,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=p(t);return{left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom}},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){i.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){var t=p(this.element);this.size&&t&&t.innerWidth===this.size.innerWidth||this.layout()},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++)t[i].reveal()},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++)t[i].hide()},g.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];if(o.element===t)return o}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i],r=this.getItem(n);r&&e.push(r)}return e}},g.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,r=e.length;r>i;i++){var s=e[i];s.remove(),n(s,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++)this.items[e].destroy();this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&b[e]},g.create=function(t,i){function o(){g.apply(this,arguments)}return Object.create?o.prototype=Object.create(g.prototype):e(o.prototype,g.prototype),o.prototype.constructor=o,v(o,"options"),e(o.prototype.options,i),o.namespace=t,o.data=g.data,o.Item=function(){m.apply(this,arguments)},o.Item.prototype=new m,s(function(){for(var e=r(t),i=a.querySelectorAll(".js-"+e),n="data-"+e+"-options",s=0,d=i.length;d>s;s++){var u,h=i[s],p=h.getAttribute(n);try{u=p&&JSON.parse(p)}catch(t){l&&l.error("Error parsing "+n+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+t);continue}var f=new o(h,u);c&&c.data(h,t,f)}}),c&&c.bridget&&c.bridget(t,o),o},g.Item=m,g}var a=t.document,l=t.console,c=t.jQuery,d=function(){},u=Object.prototype.toString,h="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var o=t.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},o.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,o=e&&1>e?"round":"ceil",n=Math[o](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),s=Math.min.apply(Math,r),a=i(r,s),l={x:this.columnWidth*a,y:s},c=s+t.size.outerHeight,d=this.cols+1-r.length,u=0;d>u;u++)this.colYs[a+u]=c;return l},o.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;i>o;o++){var n=this.colYs.slice(o,o+t);e[o]=Math.max.apply(Math,n)}return e},o.prototype._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this.options.isOriginLeft?o.left:o.right,r=n+i.outerWidth,s=Math.floor(n/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?o.top:o.bottom)+i.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},o.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.prototype.resize=function(){var t=this.containerWidth;this.getContainerWidth(),t!==this.containerWidth&&this.layout()},o}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,r=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if("object"==typeof t){e={};for(i in o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}else e=o[t]||(o[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),r="object"==typeof i;for(o in n)n.hasOwnProperty(o)&&-1===e(n[o],i)&&n[o].push(r?i:{listener:i,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,i){var o,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&-1!==(o=e(r[n],i))&&r[n].splice(o,1);return this},o.off=i("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)r.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?r.call(this,o,n):s.call(this,o,n));return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i)delete o[t];else if("object"===i)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(t,e){var i,o,n,r=this.getListenersAsObject(t);for(n in r)if(r.hasOwnProperty(n))for(o=r[n].length;o--;)!0===(i=r[n][o]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=i("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent("on"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var r={bind:o,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):t.eventie=r}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,o){return e(t,i,o)}):"object"==typeof exports?module.exports=e(t,require("eventEmitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(this,function(t,e,i){function o(t,e){for(var i in e)t[i]=e[i];return t}function n(t){return"[object Array]"===h.call(t)}function r(t){var e=[];if(n(t))e=t;else if("number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function s(t,e,i){if(!(this instanceof s))return new s(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=r(t),this.options=o({},this.options),"function"==typeof e?i=e:o(this.options,e),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var n=this;setTimeout(function(){n.check()})}function a(t){this.img=t}function l(t){this.src=t,p[t]=this}var c=t.jQuery,d=t.console,u=void 0!==d,h=Object.prototype.toString;s.prototype=new e,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);for(var o=i.querySelectorAll("img"),n=0,r=o.length;r>n;n++){var s=o[n];this.addImage(s)}}},s.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},s.prototype.check=function(){function t(t,n){return e.options.debug&&u&&d.log("confirm",t,n),e.progress(t),++i===o&&e.complete(),!0}var e=this,i=0,o=this.images.length;if(this.hasAnyBroken=!1,!o)return void this.complete();for(var n=0;o>n;n++){var r=this.images[n];r.on("confirm",t),r.check()}},s.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},c&&(c.fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(c(this))}),a.prototype=new e,a.prototype.check=function(){var t=p[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var p={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},s}),function(){function t(t){function e(e,o){var r,m,g=e==window,v=o&&void 0!==o.message?o.message:void 0;if(!(o=t.extend({},t.blockUI.defaults,o||{})).ignoreIfBlocked||!t(e).data("blockUI.isBlocked")){if(o.overlayCSS=t.extend({},t.blockUI.defaults.overlayCSS,o.overlayCSS||{}),r=t.extend({},t.blockUI.defaults.css,o.css||{}),o.onOverlayClick&&(o.overlayCSS.cursor="pointer"),m=t.extend({},t.blockUI.defaults.themedCSS,o.themedCSS||{}),v=void 0===v?o.message:v,g&&p&&i(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var y=v.jquery?v[0]:v,b={};t(e).data("blockUI.history",b),b.el=y,b.parent=y.parentNode,b.display=y.style.display,b.position=y.style.position,b.parent&&b.parent.removeChild(y)}t(e).data("blockUI.onUnblock",o.onUnblock);var w,x,k,S,E=o.baseZ;w=t(d||o.forceIframe?'<iframe class="blockUI" style="z-index:'+E+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+o.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),x=t(o.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+E+++';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+E+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),o.theme&&g?(S='<div class="blockUI '+o.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:fixed">',o.title&&(S+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(o.title||"&nbsp;")+"</div>"),S+='<div class="ui-widget-content ui-dialog-content"></div>',S+="</div>"):o.theme?(S='<div class="blockUI '+o.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:absolute">',o.title&&(S+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(o.title||"&nbsp;")+"</div>"),S+='<div class="ui-widget-content ui-dialog-content"></div>',S+="</div>"):S=g?'<div class="blockUI '+o.blockMsgClass+' blockPage" style="z-index:'+(E+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+o.blockMsgClass+' blockElement" style="z-index:'+(E+10)+';display:none;position:absolute"></div>',k=t(S),v&&(o.theme?(k.css(m),k.addClass("ui-widget-content")):k.css(r)),o.theme||x.css(o.overlayCSS),x.css("position",g?"fixed":"absolute"),(d||o.forceIframe)&&w.css("opacity",0);var T=[w,x,k],z=t(g?"body":e);t.each(T,function(){this.appendTo(z)}),o.theme&&o.draggable&&t.fn.draggable&&k.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var L=h&&(!t.support.boxModel||t("object,embed",g?null:e).length>0);if(u||L){if(g&&o.allowBodyStretch&&t.support.boxModel&&t("html,body").css("height","100%"),(u||!t.support.boxModel)&&!g)var I=l(e,"borderTopWidth"),C=l(e,"borderLeftWidth"),O=I?"(0 - "+I+")":0,_=C?"(0 - "+C+")":0;t.each(T,function(t,e){var i=e[0].style;if(i.position="absolute",2>t)g?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+o.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),_&&i.setExpression("left",_),O&&i.setExpression("top",O);else if(o.centerY)g&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!o.centerY&&g){var n="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(o.css&&o.css.top?parseInt(o.css.top,10):0)+') + "px"';i.setExpression("top",n)}})}if(v&&(o.theme?k.find(".ui-widget-content").append(v):k.append(v),(v.jquery||v.nodeType)&&t(v).show()),(d||o.forceIframe)&&o.showOverlay&&w.show(),o.fadeIn){var M=o.onBlock?o.onBlock:c,R=o.showOverlay&&!v?M:c,P=v?M:c;o.showOverlay&&x._fadeIn(o.fadeIn,R),v&&k._fadeIn(o.fadeIn,P)}else o.showOverlay&&x.show(),v&&k.show(),o.onBlock&&o.onBlock.bind(k)();if(n(1,e,o),g?(p=k[0],f=t(o.focusableElements,p),o.focusInput&&setTimeout(s,20)):a(k[0],o.centerX,o.centerY),o.timeout){var N=setTimeout(function(){g?t.unblockUI(o):t(e).unblock(o)},o.timeout);t(e).data("blockUI.timeout",N)}}}function i(e,i){var r,s=e==window,a=t(e),l=a.data("blockUI.history"),c=a.data("blockUI.timeout");c&&(clearTimeout(c),a.removeData("blockUI.timeout")),i=t.extend({},t.blockUI.defaults,i||{}),n(0,e,i),null===i.onUnblock&&(i.onUnblock=a.data("blockUI.onUnblock"),a.removeData("blockUI.onUnblock"));var d;d=s?t("body").children().filter(".blockUI").add("body > .blockUI"):a.find(">.blockUI"),i.cursorReset&&(d.length>1&&(d[1].style.cursor=i.cursorReset),d.length>2&&(d[2].style.cursor=i.cursorReset)),s&&(p=f=null),i.fadeOut?(r=d.length,d.stop().fadeOut(i.fadeOut,function(){0==--r&&o(d,l,i,e)})):o(d,l,i,e)}function o(e,i,o,n){var r=t(n);if(!r.data("blockUI.isBlocked")){e.each(function(t,e){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.el.style.cursor="default",i.parent&&i.parent.appendChild(i.el),r.removeData("blockUI.history")),r.data("blockUI.static")&&r.css("position","static"),"function"==typeof o.onUnblock&&o.onUnblock(n,o);var s=t(document.body),a=s.width(),l=s[0].style.width;s.width(a-1).width(a),s[0].style.width=l}}function n(e,i,o){var n=i==window,s=t(i);if((e||(!n||p)&&(n||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",e),n&&o.bindEvents&&(!e||o.showOverlay))){var a="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?t(document).bind(a,o,r):t(document).unbind(a,r)}}function r(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&p&&e.data.constrainTabKey){var i=f,o=!e.shiftKey&&e.target===i[i.length-1],n=e.shiftKey&&e.target===i[0];if(o||n)return setTimeout(function(){s(n)},10),!1}var r=e.data,a=t(e.target);return a.hasClass("blockOverlay")&&r.onOverlayClick&&r.onOverlayClick(e),a.parents("div."+r.blockMsgClass).length>0||0===a.parents().children().filter("div.blockUI").length}function s(t){if(f){var e=f[!0===t?f.length-1:0];e&&e.focus()}}function a(t,e,i){var o=t.parentNode,n=t.style,r=(o.offsetWidth-t.offsetWidth)/2-l(o,"borderLeftWidth"),s=(o.offsetHeight-t.offsetHeight)/2-l(o,"borderTopWidth");e&&(n.left=r>0?r+"px":"0"),i&&(n.top=s>0?s+"px":"0")}function l(e,i){return parseInt(t.css(e,i),10)||0}t.fn._fadeIn=t.fn.fadeIn;var c=t.noop||function(){},d=/MSIE/.test(navigator.userAgent),u=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),h=(document.documentMode,t.isFunction(document.createElement("div").style.setExpression));t.blockUI=function(t){e(window,t)},t.unblockUI=function(t){i(window,t)},t.growlUI=function(e,i,o,n){var r=t('<div class="growlUI"></div>');e&&r.append("<h1>"+e+"</h1>"),i&&r.append("<h2>"+i+"</h2>"),void 0===o&&(o=3e3);var s=function(e){e=e||{},t.blockUI({message:r,fadeIn:void 0!==e.fadeIn?e.fadeIn:700,fadeOut:void 0!==e.fadeOut?e.fadeOut:1e3,timeout:void 0!==e.timeout?e.timeout:o,centerY:!1,showOverlay:!1,onUnblock:n,css:t.blockUI.defaults.growlCSS})};s(),r.css("opacity"),r.mouseover(function(){s({fadeIn:0,timeout:3e4});var e=t(".blockMsg");e.stop(),e.fadeTo(300,1)}).mouseout(function(){t(".blockMsg").fadeOut(1e3)})},t.fn.block=function(i){if(this[0]===window)return t.blockUI(i),this;var o=t.extend({},t.blockUI.defaults,i||{});return this.each(function(){var e=t(this);o.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==t.css(this,"position")&&(this.style.position="relative",t(this).data("blockUI.static",!0)),this.style.zoom=1,e(this,i)})},t.fn.unblock=function(e){return this[0]===window?(t.unblockUI(e),this):this.each(function(){i(this,e)})},t.blockUI.version=2.7,t.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,f=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(o);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var s=o.find("> .active"),a=n&&t.support.transition&&(s.length&&s.hasClass("fade")||!!o.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),s.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(t){var e={accordionOn:["xs"]};t.fn.responsiveTabs=function(i){var o=t.extend({},e,i),n="";return t.each(o.accordionOn,function(t,e){n+=" accordion-"+e}),this.each(function(){var e=t(this),i=e.find("> li > a"),o=t(i.first().attr("href")).parent(".tab-content"),r=o.children(".tab-pane");e.add(o).wrapAll('<div class="responsive-tabs-container" />'),e.parent(".responsive-tabs-container").addClass(n),i.each(function(e){var o=t(this),n=o.attr("href"),r="",s="",a="";o.parent("li").hasClass("active")&&(r=" active"),0===e&&(s=" first"),e===i.length-1&&(a=" last"),o.clone(!1).addClass("accordion-link"+r+s+a).insertBefore(n)});var s=o.children(".accordion-link");i.on("click",function(e){e.preventDefault();var i=t(this),n=i.parent("li"),a=n.siblings("li"),l=i.attr("href"),c=o.children('a[href="'+l+'"]');n.hasClass("active")||(n.addClass("active"),a.removeClass("active"),r.removeClass("active"),t(l).addClass("active"),s.removeClass("active"),c.addClass("active"))}),s.on("click",function(o){o.preventDefault();var n=t(this),a=n.attr("href"),l=e.find('li > a[href="'+a+'"]').parent("li");n.hasClass("active")||(s.removeClass("active"),n.addClass("active"),r.removeClass("active"),t(a).addClass("active"),i.parent("li").removeClass("active"),l.addClass("active"))})})}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=!1,i=!1,o=0,n=2e3,r=0,s=t,a=document,l=window,c=s(l),d=[],u=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,h=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(u)l.cancelAnimationFrame||(h=function(t){});else{var p=0;u=function(t,e){var i=(new Date).getTime(),o=Math.max(0,16-(i-p)),n=l.setTimeout(function(){t(i+o)},o);return p=i+o,n},h=function(t){l.clearTimeout(t)}}var f=l.MutationObserver||l.WebKitMutationObserver||!1,m=Date.now||function(){return(new Date).getTime()},g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=a.currentScript||function(){var t=a.getElementsByTagName("script");return!!t.length&&t[t.length-1]}(),e=t?t.src.split("?")[0]:"";return e.split("/").length>0?e.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,y=function(){if(v)return v;var t=a.createElement("DIV"),e=t.style,i=navigator.userAgent,o=navigator.platform,n={};return n.haspointerlock="pointerLockElement"in a||"webkitPointerLockElement"in a||"mozPointerLockElement"in a,n.isopera="opera"in l,n.isopera12=n.isopera&&"getUserMedia"in navigator,n.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),n.isie="all"in a&&"attachEvent"in t&&!n.isopera,n.isieold=n.isie&&!("msInterpolationMode"in e),n.isie7=n.isie&&!n.isieold&&(!("documentMode"in a)||7===a.documentMode),n.isie8=n.isie&&"documentMode"in a&&8===a.documentMode,n.isie9=n.isie&&"performance"in l&&9===a.documentMode,n.isie10=n.isie&&"performance"in l&&10===a.documentMode,n.isie11="msRequestFullscreen"in t&&a.documentMode>=11,n.ismsedge="msCredentials"in l,n.ismozilla="MozAppearance"in e,n.iswebkit=!n.ismsedge&&"WebkitAppearance"in e,n.ischrome=n.iswebkit&&"chrome"in l,n.ischrome38=n.ischrome&&"touchAction"in e,n.ischrome22=!n.ischrome38&&n.ischrome&&n.haspointerlock,n.ischrome26=!n.ischrome38&&n.ischrome&&"transition"in e,n.cantouch="ontouchstart"in a.documentElement||"ontouchstart"in l,n.hasw3ctouch=(l.PointerEvent||!1)&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),n.hasmstouch=!n.hasw3ctouch&&(l.MSPointerEvent||!1),n.ismac=/^mac$/i.test(o),n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(o),n.isios4=n.isios&&!("seal"in Object),n.isios7=n.isios&&"webkitHidden"in a,n.isios8=n.isios&&"hidden"in a,n.isios10=n.isios&&l.Proxy,n.isandroid=/android/i.test(i),n.haseventlistener="addEventListener"in t,n.trstyle=!1,n.hastransform=!1,n.hastranslate3d=!1,n.transitionstyle=!1,n.hastransition=!1,n.transitionend=!1,n.trstyle="transform",n.hastransform="transform"in e||function(){for(var t=["msTransform","webkitTransform","MozTransform","OTransform"],i=0,o=t.length;i<o;i++)if(void 0!==e[t[i]]){n.trstyle=t[i];break}n.hastransform=!!n.trstyle}(),n.hastransform&&(e[n.trstyle]="translate3d(1px,2px,3px)",n.hastranslate3d=/translate3d/.test(e[n.trstyle])),n.transitionstyle="transition",n.prefixstyle="",n.transitionend="transitionend",n.hastransition="transition"in e||function(){n.transitionend=!1;for(var t=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],i=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],o=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],r=0,s=t.length;r<s;r++)if(t[r]in e){n.transitionstyle=t[r],n.prefixstyle=i[r],n.transitionend=o[r];break}n.ischrome26&&(n.prefixstyle=i[1]),n.hastransition=n.transitionstyle}(),n.cursorgrabvalue=function(){var t=["grab","-webkit-grab","-moz-grab"];(n.ischrome&&!n.ischrome38||n.isie)&&(t=[]);for(var i=0,o=t.length;i<o;i++){var r=t[i];if(e.cursor=r,e.cursor==r)return r}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),n.hasmousecapture="setCapture"in t,n.hasMutationObserver=!1!==f,t=null,v=n,n},b=function(t,p){function v(){var t=T.doc.css(_.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function b(){var t=T.win;if("zIndex"in t)return t.zIndex();for(;t.length>0;){if(9==t[0].nodeType)return!1;var e=t.css("zIndex");if(!isNaN(e)&&0!==e)return parseInt(e);t=t.parent()}return!1}function x(t,e,i){var o=t.css(e),n=parseFloat(o);if(isNaN(n)){var r=3==(n=P[o]||0)?i?T.win.outerHeight()-T.win.innerHeight():T.win.outerWidth()-T.win.innerWidth():1;return T.isie8&&n&&(n+=1),r?n:0}return n}function k(t,e,i,o){T._bind(t,e,function(o){var n={original:o=o||l.event,target:o.target||o.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==o.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},stopImmediatePropagation:function(){o.stopImmediatePropagation?o.stopImmediatePropagation():o.cancelBubble=!0}};return"mousewheel"==e?(o.wheelDeltaX&&(n.deltaX=-.025*o.wheelDeltaX),o.wheelDeltaY&&(n.deltaY=-.025*o.wheelDeltaY),!n.deltaY&&!n.deltaX&&(n.deltaY=-.025*o.wheelDelta)):n.deltaY=o.detail,i.call(t,n)},o)}function S(t,e,i,o){T.scrollrunning||(T.newscrolly=T.getScrollTop(),T.newscrollx=T.getScrollLeft(),U=m());var n=m()-U;if(U=m(),n>350?D=1:D+=(2-D)/10,t=t*D|0,e=e*D|0,t){if(o)if(t<0){if(T.getScrollLeft()>=T.page.maxw)return!0}else if(T.getScrollLeft()<=0)return!0;var r=t>0?1:-1;A!==r&&(T.scrollmom&&T.scrollmom.stop(),T.newscrollx=T.getScrollLeft(),A=r),T.lastdeltax-=t}if(e){if(function(){var t=T.getScrollTop();if(e<0){if(t>=T.page.maxh)return!0}else if(t<=0)return!0}()){if(L.nativeparentscrolling&&i&&!T.ispage&&!T.zoomactive)return!0;var s=T.view.h>>1;T.newscrolly<-s?(T.newscrolly=-s,e=-1):T.newscrolly>T.page.maxh+s?(T.newscrolly=T.page.maxh+s,e=1):e=0}var a=e>0?1:-1;B!==a&&(T.scrollmom&&T.scrollmom.stop(),T.newscrolly=T.getScrollTop(),B=a),T.lastdeltay-=e}(e||t)&&T.synched("relativexy",function(){var t=T.lastdeltay+T.newscrolly;T.lastdeltay=0;var e=T.lastdeltax+T.newscrollx;T.lastdeltax=0,T.rail.drag||T.doScrollPos(e,t)})}function E(t,e,i){var o,n;return!(i||!H)||(0===t.deltaMode?(o=-t.deltaX*(L.mousescrollstep/54)|0,n=-t.deltaY*(L.mousescrollstep/54)|0):1===t.deltaMode&&(o=-t.deltaX*L.mousescrollstep*50/80|0,n=-t.deltaY*L.mousescrollstep*50/80|0),e&&L.oneaxismousemode&&0===o&&n&&(o=n,n=0,i&&(o<0?T.getScrollLeft()>=T.page.maxw:T.getScrollLeft()<=0)&&(n=o,o=0)),T.isrtlmode&&(o=-o),S(o,n,i,!0)?void(i&&(H=!0)):(H=!1,t.stopImmediatePropagation(),t.preventDefault()))}var T=this;this.version="3.7.5-d",this.name="nicescroll",this.me=p;var z=s("body"),L=this.opt={doc:z,win:!1};if(s.extend(L,g),L.snapbackspeed=80,t)for(var I in L)void 0!==t[I]&&(L[I]=t[I]);if(L.disablemutationobserver&&(f=!1),this.doc=L.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(L.win?L.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==L.win,this.win=L.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=z,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=L.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==L.rtlmode){var C=this.win[0]==l?this.body:this.win,O=C.css("writing-mode")||C.css("-webkit-writing-mode")||C.css("-ms-writing-mode")||C.css("-moz-writing-mode");"horizontal-tb"==O||"lr-tb"==O||""===O?(this.isrtlmode="rtl"==C.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==O||"tb"==O||"tb-rl"==O||"rl-tb"==O,this.isvertical="vertical-rl"==O||"tb"==O||"tb-rl"==O)}else this.isrtlmode=!0===L.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==L.scrollbarid)this.id=L.scrollbarid;else do{this.id="ascrail"+n++}while(a.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=L.overflowx,this.overflowy=L.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=y();var _=s.extend({},this.detected);this.canhwscroll=_.hastransform&&L.hwacceleration,this.ishwscroll=this.canhwscroll&&T.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(_.iswebkit||_.isie||_.isie11):this.hasreversehr=!(_.iswebkit||_.isie&&!_.isie10&&!_.isie11):this.hasreversehr=!1,this.istouchcapable=!1,_.cantouch||!_.hasw3ctouch&&!_.hasmstouch?!_.cantouch||_.isios||_.isandroid||!_.iswebkit&&!_.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,L.enablemouselockapi||(_.hasmousecapture=!1,_.haspointerlock=!1),this.debounced=function(t,e,i){T&&(T.delaylist[t]||!1||(T.delaylist[t]={h:u(function(){T.delaylist[t].fn.call(T),T.delaylist[t]=!1},i)},e.call(T)),T.delaylist[t].fn=e)},this.synched=function(t,e){T.synclist[t]?T.synclist[t]=e:(T.synclist[t]=e,u(function(){T&&(T.synclist[t]&&T.synclist[t].call(T),T.synclist[t]=null)}))},this.unsynched=function(t){T.synclist[t]&&(T.synclist[t]=!1)},this.css=function(t,e){for(var i in e)T.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return void 0===t?T.getScrollTop():T.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?T.getScrollLeft():T.setScrollLeft(t)};var M=function(t,e,i,o,n,r,s){this.st=t,this.ed=e,this.spd=i,this.p1=o||0,this.p2=n||1,this.p3=r||0,this.p4=s||1,this.ts=m(),this.df=e-t};if(M.prototype={B2:function(t){return 3*(1-t)*(1-t)*t},B3:function(t){return 3*(1-t)*t*t},B4:function(t){return t*t*t},getPos:function(){return(m()-this.ts)/this.spd},getNow:function(){var t=(m()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return t>=1?this.ed:this.st+this.df*e|0},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=m(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},_.hastranslate3d&&_.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){var e=v();if(e)return 16==e.length?-e[13]:-e[5];if(T.timerscroll&&T.timerscroll.bz)return T.timerscroll.bz.getNow()}return T.doc.translate.y},this.getScrollLeft=function(t){if(!t){var e=v();if(e)return 16==e.length?-e[12]:-e[4];if(T.timerscroll&&T.timerscroll.bh)return T.timerscroll.bh.getNow()}return T.doc.translate.x},this.notifyScrollEvent=function(t){var e=a.createEvent("UIEvents");e.initUIEvent("scroll",!1,!1,l,1),e.niceevent=!0,t.dispatchEvent(e)};var R=this.isrtlmode?1:-1;_.hastranslate3d&&L.enabletranslate3d?(this.setScrollTop=function(t,e){T.doc.translate.y=t,T.doc.translate.ty=-1*t+"px",T.doc.css(_.trstyle,"translate3d("+T.doc.translate.tx+","+T.doc.translate.ty+",0)"),e||T.notifyScrollEvent(T.win[0])},this.setScrollLeft=function(t,e){T.doc.translate.x=t,T.doc.translate.tx=t*R+"px",T.doc.css(_.trstyle,"translate3d("+T.doc.translate.tx+","+T.doc.translate.ty+",0)"),e||T.notifyScrollEvent(T.win[0])}):(this.setScrollTop=function(t,e){T.doc.translate.y=t,T.doc.translate.ty=-1*t+"px",T.doc.css(_.trstyle,"translate("+T.doc.translate.tx+","+T.doc.translate.ty+")"),e||T.notifyScrollEvent(T.win[0])},this.setScrollLeft=function(t,e){T.doc.translate.x=t,T.doc.translate.tx=t*R+"px",T.doc.css(_.trstyle,"translate("+T.doc.translate.tx+","+T.doc.translate.ty+")"),e||T.notifyScrollEvent(T.win[0])})}else this.getScrollTop=function(){return T.docscroll.scrollTop()},this.setScrollTop=function(t){T.docscroll.scrollTop(t)},this.getScrollLeft=function(){return T.hasreversehr?T.detected.ismozilla?T.page.maxw-Math.abs(T.docscroll.scrollLeft()):T.page.maxw-T.docscroll.scrollLeft():T.docscroll.scrollLeft()},this.setScrollLeft=function(t){return setTimeout(function(){if(T)return T.hasreversehr&&(t=T.detected.ismozilla?-(T.page.maxw-t):T.page.maxw-t),T.docscroll.scrollLeft(t)},1)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var P={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||a.documentElement.scrollTop,left:l.pageXOffset||a.documentElement.scrollLeft}},this.getOffset=function(){if(T.isfixed){var t=T.win.offset(),e=T.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}var i=T.win.offset();if(!T.viewport)return i;var o=T.viewport.offset();return{top:i.top-o.top,left:i.left-o.left}},this.updateScrollBar=function(t){var e,i;if(T.ishwscroll)T.rail.css({height:T.win.innerHeight()-(L.railpadding.top+L.railpadding.bottom)}),T.railh&&T.railh.css({width:T.win.innerWidth()-(L.railpadding.left+L.railpadding.right)});else{var o=T.getOffset();if(e={top:o.top,left:o.left-(L.railpadding.left+L.railpadding.right)},e.top+=x(T.win,"border-top-width",!0),e.left+=T.rail.align?T.win.outerWidth()-x(T.win,"border-right-width")-T.rail.width:x(T.win,"border-left-width"),(i=L.railoffset)&&(i.top&&(e.top+=i.top),i.left&&(e.left+=i.left)),T.railslocked||T.rail.css({top:e.top,left:e.left,height:(t?t.h:T.win.innerHeight())-(L.railpadding.top+L.railpadding.bottom)}),T.zoom&&T.zoom.css({top:e.top+1,left:1==T.rail.align?e.left-20:e.left+T.rail.width+4}),T.railh&&!T.railslocked){e={top:o.top,left:o.left},(i=L.railhoffset)&&(i.top&&(e.top+=i.top),i.left&&(e.left+=i.left));var n=T.railh.align?e.top+x(T.win,"border-top-width",!0)+T.win.innerHeight()-T.railh.height:e.top+x(T.win,"border-top-width",!0),r=e.left+x(T.win,"border-left-width");T.railh.css({top:n-(L.railpadding.top+L.railpadding.bottom),left:r,width:T.railh.width})}}},this.doRailClick=function(t,e,i){var o,n,r,s;T.railslocked||(T.cancelEvent(t),"pageY"in t||(t.pageX=t.clientX+a.documentElement.scrollLeft,t.pageY=t.clientY+a.documentElement.scrollTop),e?(o=i?T.doScrollLeft:T.doScrollTop,r=i?(t.pageX-T.railh.offset().left-T.cursorwidth/2)*T.scrollratio.x:(t.pageY-T.rail.offset().top-T.cursorheight/2)*T.scrollratio.y,T.unsynched("relativexy"),o(0|r)):(o=i?T.doScrollLeftBy:T.doScrollBy,r=i?T.scroll.x:T.scroll.y,s=i?t.pageX-T.railh.offset().left:t.pageY-T.rail.offset().top,n=i?T.view.w:T.view.h,o(r>=s?n:-n)))},T.newscrolly=T.newscrollx=0,T.hasanimationframe="requestAnimationFrame"in l,T.hascancelanimationframe="cancelAnimationFrame"in l,T.hasborderbox=!1,this.init=function(){if(T.saved.css=[],_.isoperamini)return!0;if(_.isandroid&&!("hidden"in a))return!0;L.emulatetouch=L.emulatetouch||L.touchbehavior,T.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(a.body)["box-sizing"];var t={"overflow-y":"hidden"};if((_.isie11||_.isie10)&&(t["-ms-overflow-style"]="none"),T.ishwscroll&&(this.doc.css(_.transitionstyle,_.prefixstyle+"transform 0ms ease-out"),_.transitionend&&T.bind(T.doc,_.transitionend,T.onScrollTransitionEnd,!1)),T.zindex="auto",T.ispage||"auto"!=L.zindex?T.zindex=L.zindex:T.zindex=b()||"auto",!T.ispage&&"auto"!=T.zindex&&T.zindex>r&&(r=T.zindex),T.isie&&0===T.zindex&&"auto"==L.zindex&&(T.zindex="auto"),!T.ispage||!_.isieold){var n=T.docscroll;T.ispage&&(n=T.haswrapper?T.win:T.doc),T.css(n,t),T.ispage&&(_.isie11||_.isie)&&T.css(s("html"),t),!_.isios||T.ispage||T.haswrapper||T.css(z,{"-webkit-overflow-scrolling":"touch"});var d=s(a.createElement("div"));d.css({position:"relative",top:0,float:"right",width:L.cursorwidth,height:0,"background-color":L.cursorcolor,border:L.cursorborder,"background-clip":"padding-box","-webkit-border-radius":L.cursorborderradius,"-moz-border-radius":L.cursorborderradius,"border-radius":L.cursorborderradius}),d.addClass("nicescroll-cursors"),T.cursor=d;var u=s(a.createElement("div"));u.attr("id",T.id),u.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,m=["left","right","top","bottom"];for(var g in m)p=m[g],(h=L.railpadding[p]||0)&&u.css("padding-"+p,h+"px");u.append(d),u.width=Math.max(parseFloat(L.cursorwidth),d.outerWidth()),u.css({width:u.width+"px",zIndex:T.zindex,background:L.background,cursor:"default"}),u.visibility=!0,u.scrollable=!0,u.align="left"==L.railalign?0:1,T.rail=u,T.rail.drag=!1;var v=!1;!L.boxzoom||T.ispage||_.isieold||(v=a.createElement("div"),T.bind(v,"click",T.doZoom),T.bind(v,"mouseenter",function(){T.zoom.css("opacity",L.cursoropacitymax)}),T.bind(v,"mouseleave",function(){T.zoom.css("opacity",L.cursoropacitymin)}),T.zoom=s(v),T.zoom.css({cursor:"pointer",zIndex:T.zindex,backgroundImage:"url("+L.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),L.dblclickzoom&&T.bind(T.win,"dblclick",T.doZoom),_.cantouch&&L.gesturezoom&&(T.ongesturezoom=function(t){return t.scale>1.5&&T.doZoomIn(t),t.scale<.8&&T.doZoomOut(t),T.cancelEvent(t)},T.bind(T.win,"gestureend",T.ongesturezoom))),T.railh=!1;var y;if(L.horizrailenabled&&(T.css(n,{overflowX:"hidden"}),(d=s(a.createElement("div"))).css({position:"absolute",top:0,height:L.cursorwidth,width:0,backgroundColor:L.cursorcolor,border:L.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":L.cursorborderradius,"-moz-border-radius":L.cursorborderradius,"border-radius":L.cursorborderradius}),_.isieold&&d.css("overflow","hidden"),d.addClass("nicescroll-cursors"),T.cursorh=d,(y=s(a.createElement("div"))).attr("id",T.id+"-hr"),y.addClass("nicescroll-rails nicescroll-rails-hr"),y.height=Math.max(parseFloat(L.cursorwidth),d.outerHeight()),y.css({height:y.height+"px",zIndex:T.zindex,background:L.background}),y.append(d),y.visibility=!0,y.scrollable=!0,y.align="top"==L.railvalign?0:1,T.railh=y,T.railh.drag=!1),T.ispage)u.css({position:"fixed",top:0,height:"100%"}),u.css(u.align?{right:0}:{left:0}),T.body.append(u),T.railh&&(y.css({position:"fixed",left:0,width:"100%"}),y.css(y.align?{bottom:0}:{top:0}),T.body.append(y));else{if(T.ishwscroll){"static"==T.win.css("position")&&T.css(T.win,{position:"relative"});var x="HTML"==T.win[0].nodeName?T.body:T.win;s(x).scrollTop(0).scrollLeft(0),T.zoom&&(T.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),x.append(T.zoom)),u.css({position:"absolute",top:0}),u.css(u.align?{right:0}:{left:0}),x.append(u),y&&(y.css({position:"absolute",left:0,bottom:0}),y.css(y.align?{bottom:0}:{top:0}),x.append(y))}else{T.isfixed="fixed"==T.win.css("position");var k=T.isfixed?"fixed":"absolute";T.isfixed||(T.viewport=T.getViewport(T.win[0])),T.viewport&&(T.body=T.viewport,/fixed|absolute/.test(T.viewport.css("position"))||T.css(T.viewport,{position:"relative"})),u.css({position:k}),T.zoom&&T.zoom.css({position:k}),T.updateScrollBar(),T.body.append(u),T.zoom&&T.body.append(T.zoom),T.railh&&(y.css({position:k}),T.body.append(y))}_.isios&&T.css(T.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),L.disableoutline&&(_.isie&&T.win.attr("hideFocus","true"),_.iswebkit&&T.win.css("outline","none"))}if(!1===L.autohidemode?(T.autohidedom=!1,T.rail.css({opacity:L.cursoropacitymax}),T.railh&&T.railh.css({opacity:L.cursoropacitymax})):!0===L.autohidemode||"leave"===L.autohidemode?(T.autohidedom=s().add(T.rail),_.isie8&&(T.autohidedom=T.autohidedom.add(T.cursor)),T.railh&&(T.autohidedom=T.autohidedom.add(T.railh)),T.railh&&_.isie8&&(T.autohidedom=T.autohidedom.add(T.cursorh))):"scroll"==L.autohidemode?(T.autohidedom=s().add(T.rail),T.railh&&(T.autohidedom=T.autohidedom.add(T.railh))):"cursor"==L.autohidemode?(T.autohidedom=s().add(T.cursor),T.railh&&(T.autohidedom=T.autohidedom.add(T.cursorh))):"hidden"==L.autohidemode&&(T.autohidedom=!1,T.hide(),T.railslocked=!1),_.cantouch||T.istouchcapable||L.emulatetouch||_.hasmstouch){T.scrollmom=new w(T),T.ontouchstart=function(t){if(T.locked)return!1;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;if(T.hasmoving=!1,T.scrollmom.timer&&(T.triggerScrollEnd(),T.scrollmom.stop()),!T.railslocked){var e=T.getTarget(t);if(e&&/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return T.stopPropagation(t);var i="mousedown"===t.type;if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),T.forcescreen){var o=t;(t={original:t.original?t.original:t}).clientX=o.screenX,t.clientY=o.screenY}if(T.rail.drag={x:t.clientX,y:t.clientY,sx:T.scroll.x,sy:T.scroll.y,st:T.getScrollTop(),sl:T.getScrollLeft(),pt:2,dl:!1,tg:e},T.ispage||!L.directionlockdeadzone)T.rail.drag.dl="f";else{var n={w:c.width(),h:c.height()},r=T.getContentSize(),a=r.h-n.h,l=r.w-n.w;T.rail.scrollable&&!T.railh.scrollable?T.rail.drag.ck=a>0&&"v":!T.rail.scrollable&&T.railh.scrollable?T.rail.drag.ck=l>0&&"h":T.rail.drag.ck=!1}if(L.emulatetouch&&T.isiframe&&_.isie){var d=T.win.position();T.rail.drag.x+=d.left,T.rail.drag.y+=d.top}if(T.hasmoving=!1,T.lastmouseup=!1,T.scrollmom.reset(t.clientX,t.clientY),e&&i){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(e.nodeName))return _.hasmousecapture&&e.setCapture(),L.emulatetouch?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(t){if(T.hasmoving)return!1;e._onclick.call(this,t)}),T.cancelEvent(t)):T.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(s(e).attr("type"))&&(T.preventclick={tg:e,click:!1})}}},T.ontouchend=function(t){if(!T.rail.drag)return!0;if(2==T.rail.drag.pt){if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;T.rail.drag=!1;var e="mouseup"===t.type;if(T.hasmoving&&(T.scrollmom.doMomentum(),T.lastmouseup=!0,T.hideCursor(),_.hasmousecapture&&a.releaseCapture(),e))return T.cancelEvent(t)}else if(1==T.rail.drag.pt)return T.onmouseup(t)};var S=L.emulatetouch&&T.isiframe&&!_.hasmousecapture,E=.3*L.directionlockdeadzone|0;T.ontouchmove=function(t,e){if(!T.rail.drag)return!0;if(t.targetTouches&&L.preventmultitouchscrolling&&t.targetTouches.length>1)return!0;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!0;if(2==T.rail.drag.pt){"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY);var i,o;if(o=i=0,S&&!e){var n=T.win.position();o=-n.left,i=-n.top}var r=t.clientY+i,s=r-T.rail.drag.y,l=t.clientX+o,c=l-T.rail.drag.x,d=T.rail.drag.st-s;if(T.ishwscroll&&L.bouncescroll)d<0?d=Math.round(d/2):d>T.page.maxh&&(d=T.page.maxh+Math.round((d-T.page.maxh)/2));else if(d<0?(d=0,r=0):d>T.page.maxh&&(d=T.page.maxh,r=0),0===r&&!T.hasmoving)return T.ispage||(T.rail.drag=!1),!0;var u=T.getScrollLeft();if(T.railh&&T.railh.scrollable&&(u=T.isrtlmode?c-T.rail.drag.sl:T.rail.drag.sl-c,T.ishwscroll&&L.bouncescroll?u<0?u=Math.round(u/2):u>T.page.maxw&&(u=T.page.maxw+Math.round((u-T.page.maxw)/2)):(u<0&&(u=0,l=0),u>T.page.maxw&&(u=T.page.maxw,l=0))),!T.hasmoving){if(T.rail.drag.y===t.clientY&&T.rail.drag.x===t.clientX)return T.cancelEvent(t);var h=Math.abs(s),p=Math.abs(c),f=L.directionlockdeadzone;if(T.rail.drag.ck?"v"==T.rail.drag.ck?p>f&&h<=E?T.rail.drag=!1:h>f&&(T.rail.drag.dl="v"):"h"==T.rail.drag.ck&&(h>f&&p<=E?T.rail.drag=!1:p>f&&(T.rail.drag.dl="h")):h>f&&p>f?T.rail.drag.dl="f":h>f?T.rail.drag.dl=p>E?"f":"v":p>f&&(T.rail.drag.dl=h>E?"f":"h"),!T.rail.drag.dl)return T.cancelEvent(t);T.triggerScrollStart(t.clientX,t.clientY,0,0,0),T.hasmoving=!0}return T.preventclick&&!T.preventclick.click&&(T.preventclick.click=T.preventclick.tg.onclick||!1,T.preventclick.tg.onclick=T.onpreventclick),T.rail.drag.dl&&("v"==T.rail.drag.dl?u=T.rail.drag.sl:"h"==T.rail.drag.dl&&(d=T.rail.drag.st)),T.synched("touchmove",function(){T.rail.drag&&2==T.rail.drag.pt&&(T.prepareTransition&&T.resetTransition(),T.rail.scrollable&&T.setScrollTop(d),T.scrollmom.update(l,r),T.railh&&T.railh.scrollable?(T.setScrollLeft(u),T.showCursor(d,u)):T.showCursor(d),_.isie10&&a.selection.clear())}),T.cancelEvent(t)}return 1==T.rail.drag.pt?T.onmousemove(t):void 0},T.ontouchstartCursor=function(t,e){if(!T.rail.drag||3==T.rail.drag.pt){if(T.locked)return T.cancelEvent(t);T.cancelScroll(),T.rail.drag={x:t.touches[0].clientX,y:t.touches[0].clientY,sx:T.scroll.x,sy:T.scroll.y,pt:3,hr:!!e};var i=T.getTarget(t);return!T.ispage&&_.hasmousecapture&&i.setCapture(),T.isiframe&&!_.hasmousecapture&&(T.saved.csspointerevents=T.doc.css("pointer-events"),T.css(T.doc,{"pointer-events":"none"})),T.cancelEvent(t)}},T.ontouchendCursor=function(t){if(T.rail.drag){if(_.hasmousecapture&&a.releaseCapture(),T.isiframe&&!_.hasmousecapture&&T.doc.css("pointer-events",T.saved.csspointerevents),3!=T.rail.drag.pt)return;return T.rail.drag=!1,T.cancelEvent(t)}},T.ontouchmoveCursor=function(t){if(T.rail.drag){if(3!=T.rail.drag.pt)return;if(T.cursorfreezed=!0,T.rail.drag.hr){T.scroll.x=T.rail.drag.sx+(t.touches[0].clientX-T.rail.drag.x),T.scroll.x<0&&(T.scroll.x=0);var e=T.scrollvaluemaxw;T.scroll.x>e&&(T.scroll.x=e)}else{T.scroll.y=T.rail.drag.sy+(t.touches[0].clientY-T.rail.drag.y),T.scroll.y<0&&(T.scroll.y=0);var i=T.scrollvaluemax;T.scroll.y>i&&(T.scroll.y=i)}return T.synched("touchmove",function(){T.rail.drag&&3==T.rail.drag.pt&&(T.showCursor(),T.rail.drag.hr?T.doScrollLeft(Math.round(T.scroll.x*T.scrollratio.x),L.cursordragspeed):T.doScrollTop(Math.round(T.scroll.y*T.scrollratio.y),L.cursordragspeed))}),T.cancelEvent(t)}}}if(T.onmousedown=function(t,e){if(!T.rail.drag||1==T.rail.drag.pt){if(T.railslocked)return T.cancelEvent(t);T.cancelScroll(),T.rail.drag={x:t.clientX,y:t.clientY,sx:T.scroll.x,sy:T.scroll.y,pt:1,hr:e||!1};var i=T.getTarget(t);return _.hasmousecapture&&i.setCapture(),T.isiframe&&!_.hasmousecapture&&(T.saved.csspointerevents=T.doc.css("pointer-events"),T.css(T.doc,{"pointer-events":"none"})),T.hasmoving=!1,T.cancelEvent(t)}},T.onmouseup=function(t){if(T.rail.drag)return 1!=T.rail.drag.pt||(_.hasmousecapture&&a.releaseCapture(),T.isiframe&&!_.hasmousecapture&&T.doc.css("pointer-events",T.saved.csspointerevents),T.rail.drag=!1,T.cursorfreezed=!1,T.hasmoving&&T.triggerScrollEnd(),T.cancelEvent(t))},T.onmousemove=function(t){if(T.rail.drag){if(1!==T.rail.drag.pt)return;if(_.ischrome&&0===t.which)return T.onmouseup(t);if(T.cursorfreezed=!0,T.hasmoving||T.triggerScrollStart(t.clientX,t.clientY,0,0,0),T.hasmoving=!0,T.rail.drag.hr){T.scroll.x=T.rail.drag.sx+(t.clientX-T.rail.drag.x),T.scroll.x<0&&(T.scroll.x=0);var e=T.scrollvaluemaxw;T.scroll.x>e&&(T.scroll.x=e)}else{T.scroll.y=T.rail.drag.sy+(t.clientY-T.rail.drag.y),T.scroll.y<0&&(T.scroll.y=0);var i=T.scrollvaluemax;T.scroll.y>i&&(T.scroll.y=i)}return T.synched("mousemove",function(){T.cursorfreezed&&(T.showCursor(),T.rail.drag.hr?T.scrollLeft(Math.round(T.scroll.x*T.scrollratio.x)):T.scrollTop(Math.round(T.scroll.y*T.scrollratio.y)))}),T.cancelEvent(t)}T.checkarea=0},_.cantouch||L.emulatetouch)T.onpreventclick=function(t){if(T.preventclick)return T.preventclick.tg.onclick=T.preventclick.click,T.preventclick=!1,T.cancelEvent(t)},T.onclick=!_.isios&&function(t){return!T.lastmouseup||(T.lastmouseup=!1,T.cancelEvent(t))},L.grabcursorenabled&&_.cursorgrabvalue&&(T.css(T.ispage?T.doc:T.win,{cursor:_.cursorgrabvalue}),T.css(T.rail,{cursor:_.cursorgrabvalue}));else{var I=function(t){if(T.selectiondrag){if(t){var e=T.win.outerHeight(),i=t.pageY-T.selectiondrag.top;i>0&&i<e&&(i=0),i>=e&&(i-=e),T.selectiondrag.df=i}if(0!==T.selectiondrag.df){var o=-2*T.selectiondrag.df/6|0;T.doScrollBy(o),T.debounced("doselectionscroll",function(){I()},50)}}};T.hasTextSelected="getSelection"in a?function(){return a.getSelection().rangeCount>0}:"selection"in a?function(){return"None"!=a.selection.type}:function(){return!1},T.onselectionstart=function(t){T.ispage||(T.selectiondrag=T.win.offset())},T.onselectionend=function(t){T.selectiondrag=!1},T.onselectiondrag=function(t){T.selectiondrag&&T.hasTextSelected()&&T.debounced("selectionscroll",function(){I(t)},250)}}if(_.hasw3ctouch?(T.css(T.ispage?s("html"):T.win,{"touch-action":"none"}),T.css(T.rail,{"touch-action":"none"}),T.css(T.cursor,{"touch-action":"none"}),T.bind(T.win,"pointerdown",T.ontouchstart),T.bind(a,"pointerup",T.ontouchend),T.delegate(a,"pointermove",T.ontouchmove)):_.hasmstouch?(T.css(T.ispage?s("html"):T.win,{"-ms-touch-action":"none"}),T.css(T.rail,{"-ms-touch-action":"none"}),T.css(T.cursor,{"-ms-touch-action":"none"}),T.bind(T.win,"MSPointerDown",T.ontouchstart),T.bind(a,"MSPointerUp",T.ontouchend),T.delegate(a,"MSPointerMove",T.ontouchmove),T.bind(T.cursor,"MSGestureHold",function(t){t.preventDefault()}),T.bind(T.cursor,"contextmenu",function(t){t.preventDefault()})):_.cantouch&&(T.bind(T.win,"touchstart",T.ontouchstart,!1,!0),T.bind(a,"touchend",T.ontouchend,!1,!0),T.bind(a,"touchcancel",T.ontouchend,!1,!0),T.delegate(a,"touchmove",T.ontouchmove,!1,!0)),L.emulatetouch&&(T.bind(T.win,"mousedown",T.ontouchstart,!1,!0),T.bind(a,"mouseup",T.ontouchend,!1,!0),T.bind(a,"mousemove",T.ontouchmove,!1,!0)),(L.cursordragontouch||!_.cantouch&&!L.emulatetouch)&&(T.rail.css({cursor:"default"}),T.railh&&T.railh.css({cursor:"default"}),T.jqbind(T.rail,"mouseenter",function(){if(!T.ispage&&!T.win.is(":visible"))return!1;T.canshowonmouseevent&&T.showCursor(),T.rail.active=!0}),T.jqbind(T.rail,"mouseleave",function(){T.rail.active=!1,T.rail.drag||T.hideCursor()}),L.sensitiverail&&(T.bind(T.rail,"click",function(t){T.doRailClick(t,!1,!1)}),T.bind(T.rail,"dblclick",function(t){T.doRailClick(t,!0,!1)}),T.bind(T.cursor,"click",function(t){T.cancelEvent(t)}),T.bind(T.cursor,"dblclick",function(t){T.cancelEvent(t)})),T.railh&&(T.jqbind(T.railh,"mouseenter",function(){if(!T.ispage&&!T.win.is(":visible"))return!1;T.canshowonmouseevent&&T.showCursor(),T.rail.active=!0}),T.jqbind(T.railh,"mouseleave",function(){T.rail.active=!1,T.rail.drag||T.hideCursor()}),L.sensitiverail&&(T.bind(T.railh,"click",function(t){T.doRailClick(t,!1,!0)}),T.bind(T.railh,"dblclick",function(t){T.doRailClick(t,!0,!0)}),T.bind(T.cursorh,"click",function(t){T.cancelEvent(t)}),T.bind(T.cursorh,"dblclick",function(t){T.cancelEvent(t)})))),L.cursordragontouch&&(this.istouchcapable||_.cantouch)&&(T.bind(T.cursor,"touchstart",T.ontouchstartCursor),T.bind(T.cursor,"touchmove",T.ontouchmoveCursor),T.bind(T.cursor,"touchend",T.ontouchendCursor),T.cursorh&&T.bind(T.cursorh,"touchstart",function(t){T.ontouchstartCursor(t,!0)}),T.cursorh&&T.bind(T.cursorh,"touchmove",T.ontouchmoveCursor),T.cursorh&&T.bind(T.cursorh,"touchend",T.ontouchendCursor)),L.emulatetouch||_.isandroid||_.isios?(T.bind(_.hasmousecapture?T.win:a,"mouseup",T.ontouchend),T.onclick&&T.bind(a,"click",T.onclick),L.cursordragontouch?(T.bind(T.cursor,"mousedown",T.onmousedown),T.bind(T.cursor,"mouseup",T.onmouseup),T.cursorh&&T.bind(T.cursorh,"mousedown",function(t){T.onmousedown(t,!0)}),T.cursorh&&T.bind(T.cursorh,"mouseup",T.onmouseup)):(T.bind(T.rail,"mousedown",function(t){t.preventDefault()}),T.railh&&T.bind(T.railh,"mousedown",function(t){t.preventDefault()}))):(T.bind(_.hasmousecapture?T.win:a,"mouseup",T.onmouseup),T.bind(a,"mousemove",T.onmousemove),T.onclick&&T.bind(a,"click",T.onclick),T.bind(T.cursor,"mousedown",T.onmousedown),T.bind(T.cursor,"mouseup",T.onmouseup),T.railh&&(T.bind(T.cursorh,"mousedown",function(t){T.onmousedown(t,!0)}),T.bind(T.cursorh,"mouseup",T.onmouseup)),!T.ispage&&L.enablescrollonselection&&(T.bind(T.win[0],"mousedown",T.onselectionstart),T.bind(a,"mouseup",T.onselectionend),T.bind(T.cursor,"mouseup",T.onselectionend),T.cursorh&&T.bind(T.cursorh,"mouseup",T.onselectionend),T.bind(a,"mousemove",T.onselectiondrag)),T.zoom&&(T.jqbind(T.zoom,"mouseenter",function(){T.canshowonmouseevent&&T.showCursor(),T.rail.active=!0}),T.jqbind(T.zoom,"mouseleave",function(){T.rail.active=!1,T.rail.drag||T.hideCursor()}))),L.enablemousewheel&&(T.isiframe||T.mousewheel(_.isie&&T.ispage?a:T.win,T.onmousewheel),T.mousewheel(T.rail,T.onmousewheel),T.railh&&T.mousewheel(T.railh,T.onmousewheelhr)),T.ispage||_.cantouch||/HTML|^BODY/.test(T.win[0].nodeName)||(T.win.attr("tabindex")||T.win.attr({tabindex:++o}),T.bind(T.win,"focus",function(t){e=T.getTarget(t).id||T.getTarget(t)||!1,T.hasfocus=!0,T.canshowonmouseevent&&T.noticeCursor()}),T.bind(T.win,"blur",function(t){e=!1,T.hasfocus=!1}),T.bind(T.win,"mouseenter",function(t){i=T.getTarget(t).id||T.getTarget(t)||!1,T.hasmousefocus=!0,T.canshowonmouseevent&&T.noticeCursor()}),T.bind(T.win,"mouseleave",function(t){i=!1,T.hasmousefocus=!1,T.rail.drag||T.hideCursor()})),T.onkeypress=function(t){if(T.railslocked&&0===T.page.maxh)return!0;t=t||l.event;var o=T.getTarget(t);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!o.getAttribute("type")&&!o.type||!/submit|button|cancel/i.tp))return!0;if(s(o).attr("contenteditable"))return!0;if(T.hasfocus||T.hasmousefocus&&!e||T.ispage&&!e&&!i){var n=t.keyCode;if(T.railslocked&&27!=n)return T.cancelEvent(t);var r=t.ctrlKey||!1,a=t.shiftKey||!1,c=!1;switch(n){case 38:case 63233:T.doScrollBy(72),c=!0;break;case 40:case 63235:T.doScrollBy(-72),c=!0;break;case 37:case 63232:T.railh&&(r?T.doScrollLeft(0):T.doScrollLeftBy(72),c=!0);break;case 39:case 63234:T.railh&&(r?T.doScrollLeft(T.page.maxw):T.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:T.doScrollBy(T.view.h),c=!0;break;case 34:case 63277:T.doScrollBy(-T.view.h),c=!0;break;case 36:case 63273:T.railh&&r?T.doScrollPos(0,0):T.doScrollTo(0),c=!0;break;case 35:case 63275:T.railh&&r?T.doScrollPos(T.page.maxw,T.page.maxh):T.doScrollTo(T.page.maxh),c=!0;break;case 32:L.spacebarenabled&&(a?T.doScrollBy(T.view.h):T.doScrollBy(-T.view.h),c=!0);break;case 27:T.zoomactive&&(T.doZoom(),c=!0)}if(c)return T.cancelEvent(t)}},L.enablekeyboard&&T.bind(a,_.isopera&&!_.isopera12?"keypress":"keydown",T.onkeypress),T.bind(a,"keydown",function(t){(t.ctrlKey||!1)&&(T.wheelprevented=!0)}),T.bind(a,"keyup",function(t){t.ctrlKey||!1||(T.wheelprevented=!1)}),T.bind(l,"blur",function(t){T.wheelprevented=!1}),T.bind(l,"resize",T.onscreenresize),T.bind(l,"orientationchange",T.onscreenresize),T.bind(l,"load",T.lazyResize),_.ischrome&&!T.ispage&&!T.haswrapper){var C=T.win.attr("style"),O=parseFloat(T.win.css("width"))+1;T.win.css("width",O),T.synched("chromefix",function(){T.win.attr("style",C)})}if(T.onAttributeChange=function(t){T.lazyResize(T.isieold?250:30)},L.enableobserver&&(T.isie11||!1===f||(T.observerbody=new f(function(t){if(t.forEach(function(t){if("attributes"==t.type)return z.hasClass("modal-open")&&z.hasClass("modal-dialog")&&!s.contains(s(".modal-dialog")[0],T.doc[0])?T.hide():T.show()}),T.me.clientWidth!=T.page.width||T.me.clientHeight!=T.page.height)return T.lazyResize(30)}),T.observerbody.observe(a.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!T.ispage&&!T.haswrapper)){var M=T.win[0];!1!==f?(T.observer=new f(function(t){t.forEach(T.onAttributeChange)}),T.observer.observe(M,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),T.observerremover=new f(function(t){t.forEach(function(t){if(t.removedNodes.length>0)for(var e in t.removedNodes)if(T&&t.removedNodes[e]===M)return T.remove()})}),T.observerremover.observe(M.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(T.bind(M,_.isie&&!_.isie9?"propertychange":"DOMAttrModified",T.onAttributeChange),_.isie9&&M.attachEvent("onpropertychange",T.onAttributeChange),T.bind(M,"DOMNodeRemoved",function(t){t.target===M&&T.remove()}))}!T.ispage&&L.boxzoom&&T.bind(l,"resize",T.resizeZoom),T.istextarea&&(T.bind(T.win,"keydown",T.lazyResize),T.bind(T.win,"mouseup",T.lazyResize)),T.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var R=function(){T.iframexd=!1;var e;try{(e="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(t){T.iframexd=!0,e=!1}if(T.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(T.forcescreen=!0,T.isiframe&&(T.iframe={doc:s(e),html:T.doc.contents().find("html")[0],body:T.doc.contents().find("body")[0]},T.getContentSize=function(){return{w:Math.max(T.iframe.html.scrollWidth,T.iframe.body.scrollWidth),h:Math.max(T.iframe.html.scrollHeight,T.iframe.body.scrollHeight)}},T.docscroll=s(T.iframe.body)),!_.isios&&L.iframeautoresize&&!T.isiframe){T.win.scrollTop(0),T.doc.height("");var i=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);T.doc.height(i)}T.lazyResize(30),T.css(s(T.iframe.body),t),_.isios&&T.haswrapper&&T.css(s(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?T.bind(this.contentWindow,"scroll",T.onscroll):T.bind(e,"scroll",T.onscroll),L.enablemousewheel&&T.mousewheel(e,T.onmousewheel),L.enablekeyboard&&T.bind(e,_.isopera?"keypress":"keydown",T.onkeypress),_.cantouch?(T.bind(e,"touchstart",T.ontouchstart),T.bind(e,"touchmove",T.ontouchmove)):L.emulatetouch&&(T.bind(e,"mousedown",T.ontouchstart),T.bind(e,"mousemove",function(t){return T.ontouchmove(t,!0)}),L.grabcursorenabled&&_.cursorgrabvalue&&T.css(s(e.body),{cursor:_.cursorgrabvalue})),T.bind(e,"mouseup",T.ontouchend),T.zoom&&(L.dblclickzoom&&T.bind(e,"dblclick",T.doZoom),T.ongesturezoom&&T.bind(e,"gestureend",T.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){R.call(T.doc[0],!1)},500),T.bind(this.doc,"load",R)}},this.showCursor=function(t,e){if(T.cursortimeout&&(clearTimeout(T.cursortimeout),T.cursortimeout=0),T.rail){if(T.autohidedom&&(T.autohidedom.stop().css({opacity:L.cursoropacitymax}),T.cursoractive=!0),T.rail.drag&&1==T.rail.drag.pt||(void 0!==t&&!1!==t&&(T.scroll.y=t/T.scrollratio.y|0),void 0!==e&&(T.scroll.x=e/T.scrollratio.x|0)),T.cursor.css({height:T.cursorheight,top:T.scroll.y}),T.cursorh){var i=T.hasreversehr?T.scrollvaluemaxw-T.scroll.x:T.scroll.x;T.cursorh.css({width:T.cursorwidth,left:!T.rail.align&&T.rail.visibility?i+T.rail.width:i}),T.cursoractive=!0}T.zoom&&T.zoom.stop().css({opacity:L.cursoropacitymax})}},this.hideCursor=function(t){T.cursortimeout||T.rail&&T.autohidedom&&(T.hasmousefocus&&"leave"===L.autohidemode||(T.cursortimeout=setTimeout(function(){T.rail.active&&T.showonmouseevent||(T.autohidedom.stop().animate({opacity:L.cursoropacitymin}),T.zoom&&T.zoom.stop().animate({opacity:L.cursoropacitymin}),T.cursoractive=!1),T.cursortimeout=0},t||L.hidecursordelay)))},this.noticeCursor=function(t,e,i){T.showCursor(e,i),T.rail.active||T.hideCursor(t)},this.getContentSize=T.ispage?function(){return{w:Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),h:Math.max(a.body.scrollHeight,a.documentElement.scrollHeight)}}:T.haswrapper?function(){return{w:T.doc[0].offsetWidth,h:T.doc[0].offsetHeight}}:function(){return{w:T.docscroll[0].scrollWidth,h:T.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!T||!T.win)return!1;var i=T.page.maxh,o=T.page.maxw,n=T.view.h,r=T.view.w;if(T.view={w:T.ispage?T.win.width():T.win[0].clientWidth,h:T.ispage?T.win.height():T.win[0].clientHeight},T.page=e||T.getContentSize(),T.page.maxh=Math.max(0,T.page.h-T.view.h),T.page.maxw=Math.max(0,T.page.w-T.view.w),T.page.maxh==i&&T.page.maxw==o&&T.view.w==r&&T.view.h==n){if(T.ispage)return T;var s=T.win.offset();if(T.lastposition){var a=T.lastposition;if(a.top==s.top&&a.left==s.left)return T}T.lastposition=s}return 0===T.page.maxh?(T.hideRail(),T.scrollvaluemax=0,T.scroll.y=0,T.scrollratio.y=0,T.cursorheight=0,T.setScrollTop(0),T.rail&&(T.rail.scrollable=!1)):(T.page.maxh-=L.railpadding.top+L.railpadding.bottom,T.rail.scrollable=!0),0===T.page.maxw?(T.hideRailHr(),T.scrollvaluemaxw=0,T.scroll.x=0,T.scrollratio.x=0,T.cursorwidth=0,T.setScrollLeft(0),T.railh&&(T.railh.scrollable=!1)):(T.page.maxw-=L.railpadding.left+L.railpadding.right,T.railh&&(T.railh.scrollable=L.horizrailenabled)),T.railslocked=T.locked||0===T.page.maxh&&0===T.page.maxw,T.railslocked?(T.ispage||T.updateScrollBar(T.view),!1):(T.hidden||(T.rail.visibility||T.showRail(),T.railh&&!T.railh.visibility&&T.showRailHr()),T.istextarea&&T.win.css("resize")&&"none"!=T.win.css("resize")&&(T.view.h-=20),T.cursorheight=Math.min(T.view.h,Math.round(T.view.h*(T.view.h/T.page.h))),T.cursorheight=L.cursorfixedheight?L.cursorfixedheight:Math.max(L.cursorminheight,T.cursorheight),T.cursorwidth=Math.min(T.view.w,Math.round(T.view.w*(T.view.w/T.page.w))),T.cursorwidth=L.cursorfixedheight?L.cursorfixedheight:Math.max(L.cursorminheight,T.cursorwidth),T.scrollvaluemax=T.view.h-T.cursorheight-(L.railpadding.top+L.railpadding.bottom),T.hasborderbox||(T.scrollvaluemax-=T.cursor[0].offsetHeight-T.cursor[0].clientHeight),T.railh&&(T.railh.width=T.page.maxh>0?T.view.w-T.rail.width:T.view.w,T.scrollvaluemaxw=T.railh.width-T.cursorwidth-(L.railpadding.left+L.railpadding.right)),T.ispage||T.updateScrollBar(T.view),T.scrollratio={x:T.page.maxw/T.scrollvaluemaxw,y:T.page.maxh/T.scrollvaluemax},T.getScrollTop()>T.page.maxh?T.doScrollTop(T.page.maxh):(T.scroll.y=T.getScrollTop()/T.scrollratio.y|0,T.scroll.x=T.getScrollLeft()/T.scrollratio.x|0,T.cursoractive&&T.noticeCursor()),T.scroll.y&&0===T.getScrollTop()&&T.doScrollTo(T.scroll.y*T.scrollratio.y|0),T)},this.resize=T.onResize;var N=0;this.onscreenresize=function(t){clearTimeout(N);var e=!T.ispage&&!T.haswrapper;e&&T.hideRails(),N=setTimeout(function(){T&&(e&&T.showRails(),T.resize()),N=0},120)},this.lazyResize=function(t){return clearTimeout(N),t=isNaN(t)?240:t,N=setTimeout(function(){T&&T.resize(),N=0},t),T},this.jqbind=function(t,e,i){T.events.push({e:t,n:e,f:i,q:!0}),s(t).on(e,i)},this.mousewheel=function(t,e,i){var o="jquery"in t?t[0]:t;if("onwheel"in a.createElement("div"))T._bind(o,"wheel",e,i||!1);else{var n=void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll";k(o,n,e,i||!1),"DOMMouseScroll"==n&&k(o,"MozMousePixelScroll",e,i||!1)}};var W=!1;if(_.haseventlistener){try{var j=Object.defineProperty({},"passive",{get:function(){W=!0}});l.addEventListener("test",null,j)}catch(t){}this.stopPropagation=function(t){return!!t&&((t=t.original?t.original:t).stopPropagation(),!1)},this.cancelEvent=function(t){return t.cancelable&&t.preventDefault(),t.stopImmediatePropagation(),t.preventManipulation&&t.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=a.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(t,e,i){this.attachEvent("on"+t,e)},l.constructor.prototype.removeEventListener=a.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(t,e,i){this.detachEvent("on"+t,e)},this.cancelEvent=function(t){return(t=t||l.event)&&(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1),!1},this.stopPropagation=function(t){return(t=t||l.event)&&(t.cancelBubble=!0),!1};this.delegate=function(t,e,i,o,n){var r=d[e]||!1;r||(r={a:[],l:[],f:function(t){for(var e=r.l,i=!1,o=e.length-1;o>=0;o--)if(!1===(i=e[o].call(t.target,t)))return!1;return i}},T.bind(t,e,r.f,o,n),d[e]=r),T.ispage?(r.a=[T.id].concat(r.a),r.l=[i].concat(r.l)):(r.a.push(T.id),r.l.push(i))},this.undelegate=function(t,e,i,o,n){var r=d[e]||!1;if(r)for(var s=0,a=r.l.length;s<a;s++)r.a[s]===T.id&&(r.a.splice(s),r.l.splice(s),0===r.a.length&&(T._unbind(t,e,r.l.f),d[e]=null))},this.bind=function(t,e,i,o,n){var r="jquery"in t?t[0]:t;T._bind(r,e,i,o||!1,n||!1)},this._bind=function(t,e,i,o,n){T.events.push({e:t,n:e,f:i,b:o,q:!1}),W&&n?t.addEventListener(e,i,{passive:!1,capture:o}):t.addEventListener(e,i,o||!1)},this._unbind=function(t,e,i,o){d[e]?T.undelegate(t,e,i,o):t.removeEventListener(e,i,o)},this.unbindAll=function(){for(var t=0;t<T.events.length;t++){var e=T.events[t];e.q?e.e.unbind(e.n,e.f):T._unbind(e.e,e.n,e.f,e.b)}},this.showRails=function(){return T.showRail().showRailHr()},this.showRail=function(){return 0===T.page.maxh||!T.ispage&&"none"==T.win.css("display")||(T.rail.visibility=!0,T.rail.css("display","block")),T},this.showRailHr=function(){return T.railh&&(0===T.page.maxw||!T.ispage&&"none"==T.win.css("display")||(T.railh.visibility=!0,T.railh.css("display","block"))),T},this.hideRails=function(){return T.hideRail().hideRailHr()},this.hideRail=function(){return T.rail.visibility=!1,T.rail.css("display","none"),T},this.hideRailHr=function(){return T.railh&&(T.railh.visibility=!1,T.railh.css("display","none")),T},this.show=function(){return T.hidden=!1,T.railslocked=!1,T.showRails()},this.hide=function(){return T.hidden=!0,T.railslocked=!0,T.hideRails()},this.toggle=function(){return T.hidden?T.show():T.hide()},this.remove=function(){T.stop(),T.cursortimeout&&clearTimeout(T.cursortimeout);for(var t in T.delaylist)T.delaylist[t]&&h(T.delaylist[t].h);T.doZoomOut(),T.unbindAll(),_.isie9&&T.win[0].detachEvent("onpropertychange",T.onAttributeChange),!1!==T.observer&&T.observer.disconnect(),!1!==T.observerremover&&T.observerremover.disconnect(),!1!==T.observerbody&&T.observerbody.disconnect(),T.events=null,T.cursor&&T.cursor.remove(),T.cursorh&&T.cursorh.remove(),T.rail&&T.rail.remove(),T.railh&&T.railh.remove(),T.zoom&&T.zoom.remove();for(var e=0;e<T.saved.css.length;e++){var i=T.saved.css[e];i[0].css(i[1],void 0===i[2]?"":i[2])}T.saved=!1,T.me.data("__nicescroll","");var o=s.nicescroll;o.each(function(t){if(this&&this.id===T.id){delete o[t];for(var e=++t;e<o.length;e++,t++)o[t]=o[e];--o.length&&delete o[o.length]}});for(var n in T)T[n]=null,delete T[n];T=null},this.scrollstart=function(t){return this.onscrollstart=t,T},this.scrollend=function(t){return this.onscrollend=t,T},this.scrollcancel=function(t){return this.onscrollcancel=t,T},this.zoomin=function(t){return this.onzoomin=t,T},this.zoomout=function(t){return this.onzoomout=t,T},this.isScrollable=function(t){var e=t.target?t.target:t;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&e!==this.me[0]&&!/^BODY|HTML/.test(e.nodeName);){var i=s(e),o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(t){for(var e=!(!t||!t.parentNode)&&t.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=s(e);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&e.clientHeight!=e.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;e=!!e.parentNode&&e.parentNode}return!1},this.triggerScrollStart=function(t,e,i,o,n){if(T.onscrollstart){var r={type:"scrollstart",current:{x:t,y:e},request:{x:i,y:o},end:{x:T.newscrollx,y:T.newscrolly},speed:n};T.onscrollstart.call(T,r)}},this.triggerScrollEnd=function(){if(T.onscrollend){var t=T.getScrollLeft(),e=T.getScrollTop(),i={type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}};T.onscrollend.call(T,i)}};var B=0,A=0,U=0,D=1,H=!1;if(this.onmousewheel=function(t){if(T.wheelprevented||T.locked)return!1;if(T.railslocked)return T.debounced("checkunlock",T.resize,250),!1;if(T.rail.drag)return T.cancelEvent(t);if("auto"===L.oneaxismousemode&&0!==t.deltaX&&(L.oneaxismousemode=!1),L.oneaxismousemode&&0===t.deltaX&&!T.rail.scrollable)return!T.railh||!T.railh.scrollable||T.onmousewheelhr(t);var e=m(),i=!1;if(L.preservenativescrolling&&T.checkarea+600<e&&(T.nativescrollingarea=T.isScrollable(t),i=!0),T.checkarea=e,T.nativescrollingarea)return!0;var o=E(t,!1,i);return o&&(T.checkarea=0),o},this.onmousewheelhr=function(t){if(!T.wheelprevented){if(T.railslocked||!T.railh.scrollable)return!0;if(T.rail.drag)return T.cancelEvent(t);var e=m(),i=!1;return L.preservenativescrolling&&T.checkarea+600<e&&(T.nativescrollingarea=T.isScrollable(t),i=!0),T.checkarea=e,!!T.nativescrollingarea||(T.railslocked?T.cancelEvent(t):E(t,!0,i))}},this.stop=function(){return T.cancelScroll(),T.scrollmon&&T.scrollmon.stop(),T.cursorfreezed=!1,T.scroll.y=Math.round(T.getScrollTop()*(1/T.scrollratio.y)),T.noticeCursor(),T},this.getTransitionSpeed=function(t){return 80+t/72*L.scrollspeed|0},L.smoothscroll)if(T.ishwscroll&&_.hastransition&&L.usetransition&&L.smoothscroll){var Y="";this.resetTransition=function(){Y="",T.doc.css(_.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(t,e){var i=e?t:T.getTransitionSpeed(t),o=i+"ms";return Y!==o&&(Y=o,T.doc.css(_.prefixstyle+"transition-duration",o)),i},this.doScrollLeft=function(t,e){var i=T.scrollrunning?T.newscrolly:T.getScrollTop();T.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=T.scrollrunning?T.newscrollx:T.getScrollLeft();T.doScrollPos(i,t,e)},this.cursorupdate={running:!1,start:function(){var t=this;if(!t.running){t.running=!0;var e=function(){t.running&&u(e),T.showCursor(T.getScrollTop(),T.getScrollLeft()),T.notifyScrollEvent(T.win[0])};u(e)}},stop:function(){this.running=!1}},this.doScrollPos=function(t,e,i){var o=T.getScrollTop(),n=T.getScrollLeft();if(((T.newscrolly-o)*(e-o)<0||(T.newscrollx-n)*(t-n)<0)&&T.cancelScroll(),L.bouncescroll?(e<0?e=e/2|0:e>T.page.maxh&&(e=T.page.maxh+(e-T.page.maxh)/2|0),t<0?t=t/2|0:t>T.page.maxw&&(t=T.page.maxw+(t-T.page.maxw)/2|0)):(e<0?e=0:e>T.page.maxh&&(e=T.page.maxh),t<0?t=0:t>T.page.maxw&&(t=T.page.maxw)),T.scrollrunning&&t==T.newscrollx&&e==T.newscrolly)return!1;T.newscrolly=e,T.newscrollx=t;var r=T.getScrollTop(),s=T.getScrollLeft(),a={};a.x=t-s,a.y=e-r;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),c=T.prepareTransition(l);T.scrollrunning||(T.scrollrunning=!0,T.triggerScrollStart(s,r,t,e,c),T.cursorupdate.start()),T.scrollendtrapped=!0,_.transitionend||(T.scrollendtrapped&&clearTimeout(T.scrollendtrapped),T.scrollendtrapped=setTimeout(T.onScrollTransitionEnd,c)),T.setScrollTop(T.newscrolly),T.setScrollLeft(T.newscrollx)},this.cancelScroll=function(){if(!T.scrollendtrapped)return!0;var t=T.getScrollTop(),e=T.getScrollLeft();return T.scrollrunning=!1,_.transitionend||clearTimeout(_.transitionend),T.scrollendtrapped=!1,T.resetTransition(),T.setScrollTop(t),T.railh&&T.setScrollLeft(e),T.timerscroll&&T.timerscroll.tm&&clearInterval(T.timerscroll.tm),T.timerscroll=!1,T.cursorfreezed=!1,T.cursorupdate.stop(),T.showCursor(t,e),T},this.onScrollTransitionEnd=function(){if(T.scrollendtrapped){var t=T.getScrollTop(),e=T.getScrollLeft();if(t<0?t=0:t>T.page.maxh&&(t=T.page.maxh),e<0?e=0:e>T.page.maxw&&(e=T.page.maxw),t!=T.newscrolly||e!=T.newscrollx)return T.doScrollPos(e,t,L.snapbackspeed);T.scrollrunning&&T.triggerScrollEnd(),T.scrollrunning=!1,T.scrollendtrapped=!1,T.resetTransition(),T.timerscroll=!1,T.setScrollTop(t),T.railh&&T.setScrollLeft(e),T.cursorupdate.stop(),T.noticeCursor(!1,t,e),T.cursorfreezed=!1}}}else this.doScrollLeft=function(t,e){var i=T.scrollrunning?T.newscrolly:T.getScrollTop();T.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=T.scrollrunning?T.newscrollx:T.getScrollLeft();T.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=T.getScrollTop(),n=T.getScrollLeft();((T.newscrolly-o)*(e-o)<0||(T.newscrollx-n)*(t-n)<0)&&T.cancelScroll();var r=!1;if(T.bouncescroll&&T.rail.visibility||(e<0?(e=0,r=!0):e>T.page.maxh&&(e=T.page.maxh,r=!0)),T.bouncescroll&&T.railh.visibility||(t<0?(t=0,r=!0):t>T.page.maxw&&(t=T.page.maxw,r=!0)),T.scrollrunning&&T.newscrolly===e&&T.newscrollx===t)return!0;T.newscrolly=e,T.newscrollx=t,T.dst={},T.dst.x=t-n,T.dst.y=e-o,T.dst.px=n,T.dst.py=o;var s=0|Math.sqrt(T.dst.x*T.dst.x+T.dst.y*T.dst.y),a=T.getTransitionSpeed(s);T.bzscroll={};var l=r?1:.58;T.bzscroll.x=new M(n,T.newscrollx,a,0,0,l,1),T.bzscroll.y=new M(o,T.newscrolly,a,0,0,l,1),m();var c=function(){if(T.scrollrunning){var t=T.bzscroll.y.getPos();T.setScrollLeft(T.bzscroll.x.getNow()),T.setScrollTop(T.bzscroll.y.getNow()),t<=1?T.timer=u(c):(T.scrollrunning=!1,T.timer=0,T.triggerScrollEnd())}};T.scrollrunning||(T.triggerScrollStart(n,o,t,e,a),T.scrollrunning=!0,T.timer=u(c))},this.cancelScroll=function(){return T.timer&&h(T.timer),T.timer=0,T.bzscroll=!1,T.scrollrunning=!1,T};else this.doScrollLeft=function(t,e){var i=T.getScrollTop();T.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=T.getScrollLeft();T.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=t>T.page.maxw?T.page.maxw:t;o<0&&(o=0);var n=e>T.page.maxh?T.page.maxh:e;n<0&&(n=0),T.synched("scroll",function(){T.setScrollTop(n),T.setScrollLeft(o)})},this.cancelScroll=function(){};this.doScrollBy=function(t,e){S(0,t)},this.doScrollLeftBy=function(t,e){S(t,0)},this.doScrollTo=function(t,e){var i=e?Math.round(t*T.scrollratio.y):t;i<0?i=0:i>T.page.maxh&&(i=T.page.maxh),T.cursorfreezed=!1,T.doScrollTop(t)},this.checkContentSize=function(){var t=T.getContentSize();t.h==T.page.h&&t.w==T.page.w||T.resize(!1,t)},T.onscroll=function(t){T.rail.drag||T.cursorfreezed||T.synched("scroll",function(){T.scroll.y=Math.round(T.getScrollTop()/T.scrollratio.y),T.railh&&(T.scroll.x=Math.round(T.getScrollLeft()/T.scrollratio.x)),T.noticeCursor()})},T.bind(T.docscroll,"scroll",T.onscroll),this.doZoomIn=function(t){if(!T.zoomactive){T.zoomactive=!0,T.zoomrestore={style:{}};var e=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=T.win[0].style;for(var o in e){var n=e[o];T.zoomrestore.style[n]=void 0!==i[n]?i[n]:""}T.zoomrestore.style.width=T.win.css("width"),T.zoomrestore.style.height=T.win.css("height"),T.zoomrestore.padding={w:T.win.outerWidth()-T.win.width(),h:T.win.outerHeight()-T.win.height()},_.isios4&&(T.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),T.win.css({position:_.isios4?"absolute":"fixed",top:0,left:0,zIndex:r+100,margin:0});var s=T.win.css("backgroundColor");return(""===s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&T.win.css("backgroundColor","#fff"),T.rail.css({zIndex:r+101}),T.zoom.css({zIndex:r+102}),T.zoom.css("backgroundPosition","0 -18px"),T.resizeZoom(),T.onzoomin&&T.onzoomin.call(T),T.cancelEvent(t)}},this.doZoomOut=function(t){if(T.zoomactive)return T.zoomactive=!1,T.win.css("margin",""),T.win.css(T.zoomrestore.style),_.isios4&&c.scrollTop(T.zoomrestore.scrollTop),T.rail.css({"z-index":T.zindex}),T.zoom.css({"z-index":T.zindex}),T.zoomrestore=!1,T.zoom.css("backgroundPosition","0 0"),T.onResize(),T.onzoomout&&T.onzoomout.call(T),T.cancelEvent(t)},this.doZoom=function(t){return T.zoomactive?T.doZoomOut(t):T.doZoomIn(t)},this.resizeZoom=function(){if(T.zoomactive){var t=T.getScrollTop();T.win.css({width:c.width()-T.zoomrestore.padding.w+"px",height:c.height()-T.zoomrestore.padding.h+"px"}),T.onResize(),T.setScrollTop(Math.min(T.page.maxh,t))}},this.init(),s.nicescroll.push(this)},w=function(t){var e=this;this.nc=t,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(t,i){e.stop(),e.steptime=0,e.lasttime=m(),e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var o=m();e.steptime=o-e.lasttime,e.lasttime=o;var n=i-e.lasty,r=t-e.lastx,s=e.nc.getScrollTop()+n,a=e.nc.getScrollLeft()+r;e.snapx=a<0||a>e.nc.page.maxw,e.snapy=s<0||s>e.nc.page.maxh,e.speedx=r,e.speedy=n,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var o=!1;i<0?(i=0,o=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,o=!0),t<0?(t=0,o=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,o=!0),o?e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var i=m(),o=t?i+t:e.lasttime,n=e.nc.getScrollLeft(),r=e.nc.getScrollTop(),s=e.nc.page.maxh,a=e.nc.page.maxw;e.speedx=a>0?Math.min(60,e.speedx):0,e.speedy=s>0?Math.min(60,e.speedy):0;var l=o&&i-o<=60;(r<0||r>s||n<0||n>a)&&(l=!1);var c=!(!e.speedy||!l)&&e.speedy,d=!(!e.speedx||!l)&&e.speedx;if(c||d){var u=Math.max(16,e.steptime);if(u>50){var h=u/50;e.speedx*=h,e.speedy*=h,u=50}e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var p=e.lastscrollx,f=e.lastscrolly,g=function(){var t=m()-i>600?.04:.02;e.speedx&&(p=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=p,(p<0||p>a)&&(t=.1)),e.speedy&&(f=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=f,(f<0||f>s)&&(t=.1)),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft(),e.chkx=p,e.nc.setScrollLeft(p)),e.speedy&&(e.nc.getScrollTop(),e.chky=f,e.nc.setScrollTop(f)),e.timer||(e.nc.hideCursor(),e.doSnapy(p,f))}),e.demulxy<1?e.timer=setTimeout(g,u):(e.stop(),e.nc.hideCursor(),e.doSnapy(p,f))};g()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},x=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(t,e,i){var o=s.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():x.call(t)},set:function(t,e){var i=s.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(e)):x.call(t,e),this}},t.fn.scrollTop=function(t){if(void 0===t){var e=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return e&&e.ishwscroll?e.getScrollTop():x.call(this)}return this.each(function(){var e=s.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(t)):x.call(s(this),t)})};var k=t.fn.scrollLeft;s.cssHooks.pageXOffset={get:function(t,e,i){var o=s.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():k.call(t)},set:function(t,e){var i=s.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):k.call(t,e),this}},t.fn.scrollLeft=function(t){if(void 0===t){var e=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return e&&e.ishwscroll?e.getScrollLeft():k.call(this)}return this.each(function(){var e=s.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(t)):k.call(s(this),t)})};var S=function(t){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){return s.each(e,t),e},this.push=function(t){e[e.length]=t,e.length++},this.eq=function(t){return e[t]},t)for(var i=0;i<t.length;i++){var o=s.data(t[i],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};!function(t,e,i){for(var o=0,n=e.length;o<n;o++)!function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}(t,e[o])}(S.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"]),t.fn.getNiceScroll=function(t){return void 0===t?new S(this):this[t]&&s.data(this[t],"__nicescroll")||!1},(t.expr.pseudos||t.expr[":"]).nicescroll=function(t){return void 0!==s.data(t,"__nicescroll")},s.fn.niceScroll=function(t,e){void 0!==e||"object"!=typeof t||"jquery"in t||(e=t,t=!1);var i=new S;return this.each(function(){var o=s(this),n=s.extend({},e);if(t){var r=s(t);n.doc=r.length>1?s(t,o):r,n.win=o}!("doc"in n)||"win"in n||(n.win=o);var a=o.data("__nicescroll")||!1;a||(n.doc=n.doc||o,a=new b(n,o),o.data("__nicescroll",a)),i.push(a)}),1===i.length?i[0]:i},l.NiceScroll={getjQuery:function(){return t}},s.nicescroll||(s.nicescroll=new S,s.nicescroll.options=g)});